<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar & To-Do Planner</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234F46E5'><path d='M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z'/></svg>">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/themes.css">
    <link rel="stylesheet" href="styles/mobile.css">
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i data-feather="calendar"></i>
                <h1>PlannerPro</h1>
            </div>
            
            <nav class="nav-tabs">
                <button class="nav-tab active" data-tab="calendar">
                    <i data-feather="calendar"></i>
                    Calendar
                </button>
                <button class="nav-tab" data-tab="tasks">
                    <i data-feather="list"></i>
                    Tasks
                </button>
                <button class="nav-tab" data-tab="expenses">
                    <i data-feather="credit-card"></i>
                    Expenses
                </button>
                <button class="nav-tab" data-tab="stats">
                    <i data-feather="bar-chart-2"></i>
                    Stats
                </button>
            </nav>
            
            <div class="header-actions">
                <button class="btn-icon" id="theme-toggle" title="Toggle Theme">
                    <i data-feather="sun"></i>
                </button>
                <button class="btn-icon" id="settings-btn" title="Settings">
                    <i data-feather="settings"></i>
                </button>
                <button class="btn-primary" id="add-task-btn">
                    <i data-feather="plus"></i>
                    Add Task
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Calendar View -->
        <section class="view-section active" id="calendar-view">
            <div class="calendar-header">
                <div class="calendar-nav">
                    <button class="btn-icon" id="prev-month">
                        <i data-feather="chevron-left"></i>
                    </button>
                    <h2 id="current-month">July 2025</h2>
                    <button class="btn-icon" id="next-month">
                        <i data-feather="chevron-right"></i>
                    </button>
                </div>
                
                <div class="calendar-actions">
                    <button class="btn-secondary" id="today-btn">Today</button>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="month">Month</button>
                        <button class="view-btn" data-view="week">Week</button>
                    </div>
                </div>
            </div>
            
            <div class="calendar-container">
  <!-- NEW: Weekday Header -->
  <div class="calendar-weekdays">
    <div class="weekday">SUN</div>
    <div class="weekday">MON</div>
    <div class="weekday">TUE</div>
    <div class="weekday">WED</div>
    <div class="weekday">THU</div>
    <div class="weekday">FRI</div>
    <div class="weekday">SAT</div>
  </div>

  <!-- Date Grid -->
  <div class="calendar-grid" id="calendar-grid">
    <!-- Day cells generated by JS -->
  </div>
</div>

        </section>

        <!-- Tasks View -->
        <section class="view-section" id="tasks-view">
            <div class="tasks-header">
                <h2>Task Management</h2>
                
                <div class="tasks-filters">
                    <div class="search-box">
                        <i data-feather="search"></i>
                        <input type="text" id="search-input" placeholder="Search tasks...">
                    </div>
                    
                    <select id="priority-filter">
                        <option value="">All Priorities</option>
                        <option value="high">High Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="low">Low Priority</option>
                    </select>
                    
                    <select id="status-filter">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="completed">Completed</option>
                        <option value="overdue">Overdue</option>
                    </select>
                    
                    <select id="category-filter">
                        <option value="">All Categories</option>
                        <option value="work">Work</option>
                        <option value="personal">Personal</option>
                        <option value="health">Health</option>
                        <option value="education">Education</option>
                        <option value="shopping">Shopping</option>
                    </select>
                </div>
            </div>
            
            <div class="tasks-content">
                <div class="tasks-sidebar">
                    <div class="task-categories">
                        <h3>Categories</h3>
                        <div class="category-list" id="category-list">
                            <!-- Categories will be generated -->
                        </div>
                    </div>
                    
                    <div class="quick-stats">
                        <h3>Quick Stats</h3>
                        <div class="stat-item">
                            <span class="stat-label">Total Tasks:</span>
                            <span class="stat-value" id="total-tasks">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Completed:</span>
                            <span class="stat-value" id="completed-tasks">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Pending:</span>
                            <span class="stat-value" id="pending-tasks">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Overdue:</span>
                            <span class="stat-value" id="overdue-tasks">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="tasks-main">
                    <div class="task-list" id="task-list">
                        <!-- Tasks will be generated -->
                    </div>
                    
                    <div class="empty-state" id="empty-tasks" style="display: none;">
                        <i data-feather="inbox"></i>
                        <h3>No tasks found</h3>
                        <p>Create your first task to get started with planning!</p>
                        <button class="btn-primary" onclick="openTaskModal()">
                            <i data-feather="plus"></i>
                            Add Your First Task
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Statistics View -->
        <section class="view-section" id="stats-view">
            <div class="stats-header">
                <h2>Productivity Statistics</h2>
                <div class="stats-period">
                    <button class="period-btn active" data-period="week">This Week</button>
                    <button class="period-btn" data-period="month">This Month</button>
                    <button class="period-btn" data-period="year">This Year</button>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <h3>Task Completion</h3>
                        <i data-feather="check-circle"></i>
                    </div>
                    <div class="stat-card-content">
                        <canvas id="completion-chart"></canvas>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <h3>Daily Progress</h3>
                        <i data-feather="trending-up"></i>
                    </div>
                    <div class="stat-card-content">
                        <canvas id="daily-chart"></canvas>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <h3>Category Distribution</h3>
                        <i data-feather="pie-chart"></i>
                    </div>
                    <div class="stat-card-content">
                        <canvas id="category-chart"></canvas>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-card-header">
                        <h3>Priority Breakdown</h3>
                        <i data-feather="alert-triangle"></i>
                    </div>
                    <div class="stat-card-content">
                        <canvas id="priority-chart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="detailed-stats">
                <div class="stat-section">
                    <h3>Time Tracking</h3>
                    <div class="time-stats" id="time-stats">
                        <!-- Time tracking stats -->
                    </div>
                </div>
                
                <div class="stat-section">
                    <h3>Achievements</h3>
                    <div class="achievements" id="achievements">
                        <!-- Achievement badges -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Expenses View -->
        <section class="view-section" id="expenses-view">
            <div class="expenses-header">
                <h2>Expense Tracker</h2>
                
                <div class="expenses-filters">
                    <div class="search-box">
                        <i data-feather="search"></i>
                        <input type="text" id="expense-search-input" placeholder="Search expenses...">
                    </div>
                    
                    <select id="expense-category-filter">
                        <option value="">All Categories</option>
                        <option value="food">Food</option>
                        <option value="transport">Transport</option>
                        <option value="shopping">Shopping</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="utilities">Utilities</option>
                        <option value="health">Health</option>
                        <option value="other">Other</option>
                    </select>
                    
                    <select id="expense-time-filter">
                        <option value="all">All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                        <option value="year">This Year</option>
                    </select>
                    
                    <button class="btn-primary" id="add-expense-btn">
                        <i data-feather="plus"></i>
                        Add Expense
                    </button>
                </div>
            </div>
            
            <div class="expenses-content">
                <div class="expenses-sidebar">
                    <div class="expense-summary">
                        <h3>Quick Summary</h3>
                        <div class="summary-item">
                            <span class="summary-label">Today</span>
                            <span class="summary-value" id="today-spending">$0.00</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">This Week</span>
                            <span class="summary-value" id="week-spending">$0.00</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">This Month</span>
                            <span class="summary-value" id="month-spending">$0.00</span>
                        </div>
                    </div>
                    
                    <div class="expense-categories">
                        <h3>Categories</h3>
                        <div class="category-list" id="expense-category-list">
                            <!-- Categories will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="expense-chart">
                        <h3>Monthly Breakdown</h3>
                        <canvas id="expense-chart"></canvas>
                    </div>
                </div>
                
                <div class="expenses-main">
                    <div class="expense-list" id="expense-list">
                        <!-- Expenses will be populated by JavaScript -->
                    </div>
                    
                    <div class="empty-state" id="empty-expenses" style="display: none;">
                        <div class="empty-state-content">
                            <i data-feather="credit-card"></i>
                            <h3>No expenses yet</h3>
                            <p>Start tracking your expenses by adding your first expense</p>
                            <button class="btn-primary" onclick="expenseManager.openExpenseModal()">
                                <i data-feather="plus"></i>
                                Add First Expense
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Task Modal -->
    <div class="modal-overlay" id="task-modal-overlay">
        <div class="modal" id="task-modal">
            <div class="modal-header">
                <h3 id="modal-title">Add New Task</h3>
                <button class="btn-icon modal-close" id="close-modal">
                    <i data-feather="x"></i>
                </button>
            </div>
            
            <form class="modal-content" id="task-form">
                <div class="form-group">
                    <label for="task-title">Task Title *</label>
                    <input type="text" id="task-title" required>
                </div>
                
                <div class="form-group">
                    <label for="task-description">Description</label>
                    <textarea id="task-description" rows="3"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-date">Due Date</label>
                        <input type="date" id="task-date">
                    </div>
                    
                    <div class="form-group">
                        <label for="task-time">Due Time</label>
                        <input type="time" id="task-time">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-priority">Priority</label>
                        <select id="task-priority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-category">Category</label>
                        <select id="task-category">
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="health">Health</option>
                            <option value="education">Education</option>
                            <option value="shopping">Shopping</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="task-tags">Tags (comma separated)</label>
                    <input type="text" id="task-tags" placeholder="meeting, urgent, project">
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="task-reminder">
                        Set reminder notification
                    </label>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-task">Cancel</button>
                    <button type="submit" class="btn-primary" id="save-task">Save Task</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settings-modal-overlay">
        <div class="modal" id="settings-modal">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="btn-icon modal-close" id="close-settings">
                    <i data-feather="x"></i>
                </button>
            </div>
            
            <div class="modal-content">
                <div class="settings-section">
                    <h4>Appearance</h4>
                    <div class="setting-item">
                        <label>Theme</label>
                        <select id="theme-select">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="blue">Blue</option>
                            <option value="green">Green</option>
                            <option value="purple">Purple</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label>Accent Color</label>
                        <input type="color" id="accent-color" value="#4F46E5">
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Notifications</h4>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enable-notifications">
                            Enable notifications
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <label>Default reminder time (minutes before)</label>
                        <input type="number" id="reminder-time" value="15" min="1" max="1440">
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Calendar</h4>
                    <div class="setting-item">
                        <label>Start week on</label>
                        <select id="week-start">
                            <option value="0">Sunday</option>
                            <option value="1">Monday</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label>Default view</label>
                        <select id="default-view">
                            <option value="month">Month</option>
                            <option value="week">Week</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Data</h4>
                    <div class="setting-buttons">
                        <button class="btn-secondary" id="export-data">Export Data</button>
                        <button class="btn-secondary" id="import-data">Import Data</button>
                        <button class="btn-danger" id="clear-data">Clear All Data</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Expense Modal -->
    <div class="modal-overlay" id="expense-modal-overlay">
        <div class="modal" id="expense-modal">
            <div class="modal-header">
                <h3 id="expense-modal-title">Add New Expense</h3>
                <button class="btn-icon modal-close" id="close-expense-modal">
                    <i data-feather="x"></i>
                </button>
            </div>
            
            <form class="modal-content" id="expense-form">
                <div class="form-group">
                    <label for="expense-title">Description *</label>
                    <input type="text" id="expense-title" required placeholder="What did you spend on?">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="expense-amount">Amount *</label>
                        <input type="number" id="expense-amount" step="0.01" min="0" required placeholder="0.00">
                    </div>
                    
                    <div class="form-group">
                        <label for="expense-currency">Currency</label>
                        <select id="expense-currency">
                            <option value="USD">USD ($)</option>
                            <option value="EUR">EUR (€)</option>
                            <option value="GBP">GBP (£)</option>
                            <option value="JPY">JPY (¥)</option>
                            <option value="CAD">CAD (C$)</option>
                            <option value="AUD">AUD (A$)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="expense-category">Category *</label>
                        <select id="expense-category" required>
                            <option value="">Select Category</option>
                            <option value="food">🍔 Food & Dining</option>
                            <option value="transport">🚗 Transportation</option>
                            <option value="shopping">🛍️ Shopping</option>
                            <option value="entertainment">🎬 Entertainment</option>
                            <option value="utilities">⚡ Utilities</option>
                            <option value="health">🏥 Health & Medical</option>
                            <option value="education">📚 Education</option>
                            <option value="travel">✈️ Travel</option>
                            <option value="home">🏠 Home & Garden</option>
                            <option value="other">📦 Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="expense-payment">Payment Method</label>
                        <select id="expense-payment">
                            <option value="cash">💵 Cash</option>
                            <option value="credit_card">💳 Credit Card</option>
                            <option value="debit_card">💸 Debit Card</option>
                            <option value="bank_transfer">🏦 Bank Transfer</option>
                            <option value="digital_wallet">📱 Digital Wallet</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="expense-date">Date *</label>
                    <input type="date" id="expense-date" required>
                </div>
                
                <div class="form-group">
                    <label for="expense-location">Location (Optional)</label>
                    <input type="text" id="expense-location" placeholder="Where did you make this purchase?">
                </div>
                
                <div class="form-group">
                    <label for="expense-notes">Notes (Optional)</label>
                    <textarea id="expense-notes" rows="3" placeholder="Additional details..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="expense-tags">Tags (Optional)</label>
                    <input type="text" id="expense-tags" placeholder="Separate tags with commas">
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="expense-recurring">
                        This is a recurring expense
                    </label>
                </div>
                
                <div class="form-group" id="recurring-options" style="display: none;">
                    <label for="expense-recurring-type">Recurring Type</label>
                    <select id="expense-recurring-type">
                        <option value="weekly">Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="yearly">Yearly</option>
                    </select>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-expense">Cancel</button>
                    <button type="submit" class="btn-primary" id="save-expense">Save Expense</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notification-container"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/themes.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/dragdrop.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/expenses.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
